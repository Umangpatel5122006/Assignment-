(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1244:(e,s,a)=>{"use strict";a.d(s,{F:()=>n});var r=a(5453);let t={scrollMovement:!1},l=()=>{try{let e=localStorage.getItem("userSettings");if(e)return JSON.parse(e)}catch(e){}return t},n=(0,r.v)(e=>({isRelationalSchema:!1,setIsRelationalSchema:s=>e({isRelationalSchema:s}),userSettings:l(),setUserSettings:s=>{localStorage.setItem("userSettings",JSON.stringify(s)),e({userSettings:s})}}))},1294:(e,s,a)=>{"use strict";a.d(s,{S:()=>c});var r=a(5155),t=a(2115),l=a(6981),n=a(5196),i=a(2884);let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.bL,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...t,children:(0,r.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})});c.displayName=l.bL.displayName},3939:(e,s,a)=>{Promise.resolve().then(a.bind(a,3864)),Promise.resolve().then(a.t.bind(a,9243,23)),Promise.resolve().then(a.t.bind(a,7113,23)),Promise.resolve().then(a.bind(a,6671)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,7372))},7372:(e,s,a)=>{"use strict";a.d(s,{Navbar:()=>V});var r=a(5155),t=a(2085),l=a(6874),n=a.n(l),i=a(2115),c=a(879),d=a(6474),o=a(2884);let m=i.forwardRef((e,s)=>{let{className:a,children:t,...l}=e;return(0,r.jsxs)(c.bL,{ref:s,className:(0,o.cn)("relative z-10 flex max-w-max flex-1 items-center justify-center",a),...l,children:[t,(0,r.jsx)(u,{})]})});m.displayName=c.bL.displayName;let h=i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(c.B8,{ref:s,className:(0,o.cn)("group list-none space-x-1",a),...t})});h.displayName=c.B8.displayName;let x=c.q7,f=(0,t.F)("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50");i.forwardRef((e,s)=>{let{className:a,children:t,...l}=e;return(0,r.jsxs)(c.l9,{ref:s,className:(0,o.cn)(f,"group",a),...l,children:[t," ",(0,r.jsx)(d.A,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})}).displayName=c.l9.displayName,i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(c.UC,{ref:s,className:(0,o.cn)("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",a),...t})}).displayName=c.UC.displayName,c.N_;let u=i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,o.cn)("absolute left-0 top-full flex justify-center"),children:(0,r.jsx)(c.LM,{className:(0,o.cn)("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",a),ref:s,...t})})});u.displayName=c.LM.displayName,i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(c.C1,{ref:s,className:(0,o.cn)("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",a),...t,children:(0,r.jsx)("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})})}).displayName=c.C1.displayName;var j=a(1769),p=a(4477);let N=(0,p.createServerReference)("00e86d56f19ae01fa7c47a24493a70365f85f76f6e",p.callServer,void 0,p.findSourceMapURL,"logout"),g=(0,p.createServerReference)("007d721ac8de9ba4554eeca114dee86f6ff99f6cf7",p.callServer,void 0,p.findSourceMapURL,"deleteAccount");var v=a(1244),b=a(381),y=a(1284),w=a(2525),k=a(4835),S=a(7083);let C=i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(S.bL,{ref:s,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t})});C.displayName=S.bL.displayName;let R=i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(S._V,{ref:s,className:(0,o.cn)("aspect-square h-full w-full",a),...t})});R.displayName=S._V.displayName;let L=i.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(S.H4,{ref:s,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t})});L.displayName=S.H4.displayName;var A=a(5175),P=a(3985),F=a(6757),_=a(4593),q=a(3741),U=a(8042),E=a(1294),I=a(3915),M=a(6671),T=a(5695);let D=e=>{let{username:s}=e,{userSettings:a,setUserSettings:t}=(0,v.F)(),[l,n]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[o,m]=(0,i.useState)(""),h=s.split("@")[0],x=(0,i.useCallback)(async()=>{localStorage.clear(),await N()},[]),f=(0,i.useCallback)(async()=>{m(""),d(!1);let e=await g();e.success?(localStorage.clear(),M.o.success(e.message),(0,T.redirect)("/")):M.o.error(e.message)},[]),u=(0,i.useCallback)(()=>{t({...a,scrollMovement:!a.scrollMovement})},[a,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(A.rI,{modal:!1,children:[(0,r.jsx)(A.ty,{asChild:!0,children:(0,r.jsxs)("div",{className:"relative h-8 w-8 cursor-pointer transition-opacity hover:opacity-80",children:[(0,r.jsxs)(C,{className:"h-8 w-8 border",children:[(0,r.jsx)(R,{src:"https://avatar.vercel.sh/".concat(s),alt:s}),(0,r.jsx)(L,{children:h.charAt(0).toUpperCase()})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-s font-semibold text-white",children:h.charAt(0).toUpperCase()})})]})}),(0,r.jsxs)(A.SQ,{align:"end",className:"w-56",children:[(0,r.jsx)(A.lp,{children:s}),(0,r.jsx)(A.mB,{}),(0,r.jsxs)("div",{className:"px-2 py-2",children:[(0,r.jsxs)(A.lp,{className:"mb-1 px-0 font-bold",children:[(0,r.jsx)(b.A,{className:"mr-2 inline-block h-4 w-4"}),"User Settings"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 ",children:[(0,r.jsx)(E.S,{id:"pan-on-scroll",checked:a.scrollMovement,onCheckedChange:u,className:"h-3.5 w-3.5"}),(0,r.jsxs)("div",{className:"flex flex-row items-center gap-0",children:[(0,r.jsx)(P.J,{htmlFor:"pan-on-scroll",className:"text-sm",children:"Scroll movement"}),(0,r.jsx)(q.$,{variant:"ghost",className:"p-0 hover:bg-transparent",onClick:()=>{n(!0)},children:(0,r.jsx)(y.A,{className:"mb-2 ml-1 h-4 w-4 text-muted-foreground"})})]})]})]}),(0,r.jsx)(A.mB,{}),(0,r.jsxs)(_.Lt,{open:c,onOpenChange:e=>{d(e),e||m("")},children:[(0,r.jsx)(_.tv,{asChild:!0,children:(0,r.jsxs)(A._2,{className:"cursor-pointer text-red-600 hover:bg-muted hover:text-red-700",onSelect:e=>{e.preventDefault(),d(!0)},children:[(0,r.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Delete Account"]})}),(0,r.jsxs)(_.EO,{children:[(0,r.jsxs)(_.wd,{children:[(0,r.jsx)(_.r7,{children:"Are you absolutely sure?"}),(0,r.jsx)(_.$v,{children:"This action cannot be undone. This will permanently delete your account and remove all of your data from our servers, including all your diagrams."})]}),(0,r.jsxs)("div",{className:"py-4",children:[(0,r.jsxs)(P.J,{htmlFor:"confirm-username",className:"text-sm font-medium",children:["Type ",(0,r.jsx)("span",{className:"font-bold",children:h})," to confirm:"]}),(0,r.jsx)(I.p,{id:"confirm-username",type:"text",placeholder:h,value:o,onChange:e=>m(e.target.value),className:"mt-2"})]}),(0,r.jsxs)(_.ck,{children:[(0,r.jsx)(_.Zr,{children:"Cancel"}),(0,r.jsx)(_.Rx,{className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-300 disabled:hover:bg-gray-300",onClick:f,disabled:o!==h,children:"Delete Account"})]})]})]}),(0,r.jsxs)(A._2,{className:"cursor-pointer hover:bg-muted ",onClick:x,children:[(0,r.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]}),(0,r.jsx)(F.lG,{open:l,onOpenChange:n,children:(0,r.jsxs)(F.Cf,{children:[(0,r.jsxs)(F.c7,{children:[(0,r.jsx)(F.L3,{children:"Scroll movement"}),(0,r.jsx)(F.rr,{children:"This setting lets you choose between two different navigation modes for the diagram."})]}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("ul",{className:"pl-5",children:[(0,r.jsxs)("li",{className:"mb-4",children:[(0,r.jsx)("strong",{children:"Enabled"}),":",(0,r.jsxs)("ul",{className:"mt-1 list-disc pl-5 text-sm",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Pan (move):"})," Scroll (vertical), shift + scroll (horizontal) or space + pointer drag"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Zoom:"})," Pinch or cmd/ctrl + scroll"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Select:"})," Pointer drag"]})]})]}),(0,r.jsx)(U.w,{}),(0,r.jsxs)("li",{className:"mt-4",children:[(0,r.jsx)("strong",{children:"Disabled"})," (default):",(0,r.jsxs)("ul",{className:"mt-1 list-disc pl-5 text-sm",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Pan (move):"})," Pointer drag"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Zoom:"})," Pinch or scroll"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Select:"})," Shift + pointer drag"]})]})]})]}),(0,r.jsx)("div",{className:"mt-6"}),(0,r.jsxs)("ul",{className:"mt-1 list-none text-xs text-muted-foreground",children:[(0,r.jsx)("li",{children:"Pointer drag: click anywhere (except on nodes) and drag"}),(0,r.jsx)("li",{children:"Scroll: use mouse wheel or trackpad"})]})]})]})})]})};var O=a(4783),z=a(7614),H=a(6715),B=a(458);let J=(0,t.F)("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-bold transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),Q="block w-full py-3 px-4 text-sm font-medium hover:bg-accent hover:text-accent-foreground rounded-md",G=(0,r.jsxs)("span",{className:"text-xl",children:[(0,r.jsx)("span",{className:"font-extrabold text-primary",children:"ERD"}),(0,r.jsx)("span",{className:"font-semibold text-blue-500",children:"Plus"})]}),Z=(0,i.memo)(()=>{var e;let s=J(),{data:a,isLoading:t}=(0,j.I)({queryKey:["auth"],queryFn:async()=>{let e=await fetch("/api/auth",{next:{tags:["auth"]},method:"GET",headers:{"Content-Type":"application/json"},cache:"force-cache"});if(!e.ok)throw Error("Failed to check authentication");return e.json()}}),l=null!==(e=null==a?void 0:a.authenticated)&&void 0!==e&&e,i=null==a?void 0:a.username;return t?(0,r.jsx)(m,{className:"flex h-16 min-w-full flex-none justify-between shadow-md dark:shadow-slate-600",children:(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 hidden -translate-x-1/2 -translate-y-1/2 transform md:block",children:G})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m,{className:"flex h-16 min-w-full flex-none justify-between shadow-md dark:shadow-slate-600",children:[(0,r.jsx)("div",{className:"ml-4 flex items-center md:hidden",children:(0,r.jsxs)(z.cj,{children:[(0,r.jsx)(z.CG,{asChild:!0,children:(0,r.jsx)("button",{className:"rounded-md p-2 hover:bg-accent",children:(0,r.jsx)(O.A,{className:"h-6 w-6"})})}),(0,r.jsxs)(z.h,{side:"left",className:"w-[250px] sm:w-[300px]",children:[(0,r.jsx)(z.qp,{children:G}),(0,r.jsxs)("nav",{className:"mt-8 flex flex-col gap-4",children:[(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/",className:Q,children:"Home"})}),(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/about",className:Q,children:"About"})}),!l&&(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/trial",className:Q,children:"Try It"})}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/diagrams",className:Q,children:"Diagrams"})}),(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/sql-queries",className:Q,children:"SQL"})})]}),(0,r.jsx)("div",{className:"my-4 border-t"}),l?(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2",children:[i&&(0,r.jsx)(D,{username:i}),(0,r.jsx)("span",{className:"font-medium",children:i})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/login",className:Q,children:"Login"})}),(0,r.jsx)(z.kN,{asChild:!0,children:(0,r.jsx)(n(),{prefetch:!1,href:"/sign-up",className:Q,children:"Sign Up"})})]})]})]})]})}),(0,r.jsx)(h,{className:"ml-8 hidden md:flex",children:(0,r.jsx)(x,{className:"flex w-full flex-row justify-between",children:(0,r.jsxs)("div",{className:"flex w-full flex-row items-center justify-center",children:[(0,r.jsx)(n(),{prefetch:!1,href:"/",className:s,children:"Home"}),(0,r.jsx)(n(),{prefetch:!1,href:"/about",className:s,children:"About"}),!l&&(0,r.jsx)(n(),{prefetch:!1,href:"/trial",className:s,children:"Try It"}),l&&(0,r.jsx)(n(),{prefetch:!1,href:"/diagrams",className:s,children:"Diagrams"}),l&&(0,r.jsx)(n(),{prefetch:!1,href:"/sql-queries",className:s,children:"SQL"})]})})}),(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 hidden -translate-x-1/2 -translate-y-1/2 transform md:block",children:(0,r.jsx)(n(),{prefetch:!1,href:"/",className:"flex items-center",children:G})}),(0,r.jsx)("div",{className:"flex items-center justify-center md:hidden",children:(0,r.jsx)(n(),{prefetch:!1,href:"/",className:"flex items-center",children:G})}),(0,r.jsx)(h,{className:"mr-8 hidden md:flex",children:(0,r.jsx)(x,{className:"flex w-full flex-row justify-between",children:(0,r.jsxs)("div",{className:"flex w-full flex-row items-center justify-center",children:[!l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{prefetch:!1,href:"/login",className:s,children:"Login"}),(0,r.jsx)(n(),{prefetch:!1,href:"/sign-up",className:s,children:"Sign Up"})]}),l&&i&&(0,r.jsx)(D,{username:i})]})})}),(0,r.jsx)("div",{className:"mr-4 flex items-center md:hidden",children:l&&i&&(0,r.jsx)(D,{username:i})})]})})});Z.displayName="NavbarInternal";let V=(0,i.memo)(()=>(0,r.jsx)(H.Ht,{client:B.qQ,children:(0,r.jsx)(Z,{})}));V.displayName="Navbar"}},e=>{var s=s=>e(e.s=s);e.O(0,[365,598,500,874,285,667,904,762,793,80,441,684,358],()=>s(3939)),_N_E=e.O()}]);